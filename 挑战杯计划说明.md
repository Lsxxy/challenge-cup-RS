# 挑战杯计划说明

###  1.数据集

数据集分为开源数据集与闭源数据集。

#### 开源数据集：

**1.VRSBench：**该数据集分为训练集与预测集，其中的训练集可以用于训练，测试集只能用于预测。**该数据集为纯英文**

**2.MME-RealWorld-RS：**该数据集内有多个领域数据，注意我们只使用其中有关遥感领域的数据（见下图）。该数据集**全部为测试集**，全部无法用于训练，只能用来预测。**该数据集为纯英文。**

![image-20250718095747206](/assets/image-20250718095747206.png)

#### 闭源数据集：

**1.官方给的验证集：**官方给予验证集与最终测试集最为相似，作为最终测试集的参考，非常有价值，数据分布也可能趋近相同，需要注意，验证集**有中文有英文**。

验证集下载地点：登入以下网址https://www.osredm.com/competition/tzb2025/fingerpost，点击作品提交，下载验证集。

![image-20250718100126394](/home/xxy/.config/Typora/typora-user-images/image-20250718100126394.png)

**2.官方测试集：**完全闭源，最后封闭测试。（推测也是中英文都有）



### 2.数据集中涉及任务

开源集：涉及图像描述，视觉问答（VQA），物体识别任务，要让语言模型完成这种任务就要给它相应的prompt。例如：

- 图像描述promt："Please describe this image in detail."

- VQA prompt：f"Answer the following question with a short word or phrase: {question}"

- 物体识别：f"What is the bounding box for the object described as \"{description}\"? Provide the coordinates in the format {{<x_min><y_min><x_max><y_max>}}."（之后再通过代码过滤掉回答中的文本，只提取坐标，拿这个坐标去计算IOU值）。

闭源集：涉及VQA（多项选择题格式）与图像描述。



### 3.流程与评分标准

整个比赛流程可分为两部分，第一部分是在开源集上的测试，属于入围赛，第二部分是在闭源测试集上的测试，属于决赛。

#### 入围赛

入围赛在VRSBench的测试集与MME的全部数据集上进行，会针对不同任务计算得分，具体得分计算标准见下图，**仓库中的test_all_task.py文件就是根据这个计算标准进行的最终得分计算**，所有队伍在开源集上的分数会做排名，**排名靠前的队伍才能进决赛。**

![image-20250718100624069](/home/xxy/.config/Typora/typora-user-images/image-20250718100624069.png)

#### 决赛

决赛就是在闭源测试集上的分数（注意：闭源验证集不算最终分数，只是用来验证的）。**目前了解到的情况是决赛的数据集只会完成多项选择题以及图像描述两项任务。**

决赛的最终分为，闭源测试集分数x0.6 + 其他（文档撰写，可复现性等）x0.4



### 4.九格大模型

九格大模型，即我们要进行训练的模型，这是一种大语言模型，它就像chatgpt或是deepseek一样只能输出文本，形成一问一答的形式。

#### 模型架构

该种模型的架构大致就分为三个部分，视觉编码器，文本解码器，桥接层。下图中，vpm为视觉编码器，resampler为桥接层，llm为文本解码器。

在我们当前的任务环境下，都是同时输入图像与文本的，模型会进行以下操作：
1.把图像输入视觉编码器，得到视觉向量。

2.将视觉向量输入进桥接层，将视觉向量转换为符合文本解码器格式的向量。

3.将转换后视觉向量与经过tokenizer的文本向量拼接。

4.将拼接的向量输入进文本解码器，以自回归形式产生结果。

![image-20250718102109372](/home/xxy/.config/Typora/typora-user-images/image-20250718102109372.png)

#### 训练策略及现阶段要完成的任务（ps：后续也许有更多的目标方向）

训练策略目前分为两部分，微调与prompt。

**1.微调：**由于模型过于庞大，我们无法将所有参数进行调整，只能部分微调。所以目前微调涉及到两方面问题，数据集与微调策略。

**数据集：**目前能用的数据集只有RSBench的训练集，过于少，并且闭源验证集中有中文存在。所以我们需要扩充数据集，并且希望加入中文的数据集增强模型中文能力。**（目标1：寻找或是制作新数据集）**

**微调策略：**要让模型用最小参数量往遥感领域迁移，可阅读最前沿关于该种架构的微调策略，目前使用了Lora。**（目标2：找寻更优微调策略）**

**2.prompt:**针对不同任务可以设置出不同的prompt，简单来说就是问问题的方式。

比如说，对于遥感领域的图像描述任务，我们可以问模型“请描述这幅图像”，我们也可以问“这是一个遥感图像，请尽可能详细的描述这幅图像”。这两种prompt产生的结果是很有可能不同的。**并且，要针对验证集的内容倾向，比如是描述宏观的场景，还是即宏观描述又描述了小物体。**找出最为适合的prompt。**（目标3：找寻最优prompt）**



### 5.其它

#### 算力资源

由于模型过于庞大，非常耗费算力资源，可到https://www.osredm.com/competition/tzb2025/resource处申请线上算力资源。

#### 单次测试

尽量进行单张图片的测试，比较容易观察结果，可使用chat.py。



